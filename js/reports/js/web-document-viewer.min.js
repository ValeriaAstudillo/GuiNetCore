/*! DevExpress HTML/JS Designer - v16.1.6 - 2016-08-26
* http://www.devexpress.com
* Copyright (c) 2016 Developer Express Inc; Licensed Commercial */

var DevExpress;!function(a){var b;!function(b){var c;!function(c){function d(a){return ko.observable("DifferentFiles"===a?"SingleFile":a)}c.pageBorderColor={propertyName:"pageBorderColor",modelName:"@PageBorderColor",from:b.colorFromString,toJsonObject:b.colorToString,displayName:"Page Border Color",editor:b.Widgets.editorTemplates.customColorEditor,defaultVal:"Black"},c.pageBorderWidth={propertyName:"pageBorderWidth",modelName:"@PageBorderWidth",displayName:"Page Border Width",from:b.floatFromModel,editor:a.JS.Widgets.editorTemplates.numeric,defaultVal:1},c.pageRange={propertyName:"pageRange",modelName:"@PageRange",displayName:"Page Range",editor:a.JS.Widgets.editorTemplates.text,defaultVal:""},c.expotOptionsTitle={propertyName:"title",modelName:"@Title",displayName:"Title",editor:a.JS.Widgets.editorTemplates.text,defaultVal:"Document"},c.tableLayout={propertyName:"tableLayout",modelName:"@TableLayout",displayName:"Table Layout",editor:a.JS.Widgets.editorTemplates.bool,from:b.parseBool,defaultVal:!0},c.allowURLsWithJSContent={propertyName:"allowURLsWithJSContent",modelName:"@AllowURLsWithJSContent",displayName:"Allow URLs with JS Content",editor:a.JS.Widgets.editorTemplates.bool,from:b.parseBool,defaultVal:!0},c.useHRefHyperlinks={propertyName:"useHRefHyperlinks",modelName:"@UseHRefHyperlinks",displayName:"Use HRef Hyperlinks",editor:a.JS.Widgets.editorTemplates.bool,from:b.parseBool,defaultVal:!1},c.removeSecondarySymbols={propertyName:"removeSecondarySymbols",modelName:"@RemoveSecondarySymbols",displayName:"Remove Secondary Symbols",editor:a.JS.Widgets.editorTemplates.bool,from:b.parseBool,defaultVal:!1},c.characterSet={propertyName:"characterSet",modelName:"@CharacterSet",displayName:"Character Set",editor:a.JS.Widgets.editorTemplates.combobox,defaultVal:"utf-8",values:{"utf-8":"utf-8","windows-1256":"Arabic (Windows)","iso-8859-4":"Baltic (ISO)","windows-1257":"Baltic (Windows)","iso-8859-2":"Central European (ISO)","windows-1250":"Central European (Windows)","iso-8859-5":"Cyrillic (ISO)","koi8-r":"Cyrillic (KOI8-r)","windows-1251":"Cyrillic (Windows)","iso-8859-15":"Latin 9 (ISO)","utf-7":"Unicode (UTF-7)","iso-8859-1":"Western European (ISO)","windows-1252":"Western European (Windows)"}},c.defaultExportModePreview={SingleFile:"Single File",SingleFilePageByPage:"Single File PageByPage"},c.defaultExportMode={SingleFile:"Single File",SingleFilePageByPage:"Single File PageByPage",DifferentFiles:"Different Files"},c.rtfExportMode={propertyName:"rtfExportMode",modelName:"@ExportMode",defaultVal:"SingleFilePageByPage",editor:a.JS.Widgets.editorTemplates.combobox,displayName:"Export Mode",values:{SingleFile:"Single File",SingleFilePageByPage:"Single File PageByPage"}},c.htmlExportMode={propertyName:"htmlExportMode",modelName:"@ExportMode",defaultVal:"SingleFile",editor:a.JS.Widgets.editorTemplates.combobox,displayName:"Export Mode",values:c.defaultExportMode},c.embedImagesInHTML={propertyName:"embedImagesInHTML",modelName:"@EmbedImagesInHTML",defaultVal:!1,editor:a.JS.Widgets.editorTemplates.bool,from:b.parseBool,displayName:"Embed Images In HTML"},c.imageExportMode={propertyName:"imageExportMode",modelName:"@ExportMode",defaultVal:"SingleFile",editor:a.JS.Widgets.editorTemplates.combobox,displayName:"Export Mode",values:c.defaultExportMode},c.xlsExportMode={propertyName:"xlsExportMode",modelName:"@ExportMode",defaultVal:"SingleFile",editor:a.JS.Widgets.editorTemplates.combobox,displayName:"Export Mode",values:c.defaultExportMode},c.xlsxExportMode={propertyName:"xlsxExportMode",modelName:"@ExportMode",defaultVal:"SingleFile",editor:a.JS.Widgets.editorTemplates.combobox,displayName:"Export Mode",values:c.defaultExportMode},c.textExportMode={propertyName:"textExportMode",modelName:"@TextExportMode",displayName:"Text Export Mode",defaultVal:"Text",editor:a.JS.Widgets.editorTemplates.combobox,values:{Text:"Text",Value:"Value"}},c.xlsTextExportMode={propertyName:"textExportMode",modelName:"@TextExportMode",displayName:"Text Export Mode",defaultVal:"Value",editor:a.JS.Widgets.editorTemplates.combobox,values:{Text:"Text",Value:"Value"}},c.csvTextSeparator={propertyName:"separator",modelName:"@Separator",displayName:"Separator",editor:a.JS.Widgets.editorTemplates.text,defaultVal:","},c.textEncodingType={propertyName:"encodingType",modelName:"@EncodingType",displayName:"Encoding",editor:a.JS.Widgets.editorTemplates.combobox,defaultVal:"Default",from:b.fromEnum,values:{Default:"Windows-1252",ASCII:"us-ascii",Unicode:"utf-16",BigEndianUnicode:"utf-16BE",UTF7:"utf-7",UTF8:"utf-8",UTF32:"utf-32"}},c.xlsExportHyperlinks={propertyName:"exportHyperlinks",modelName:"@ExportHyperlinks",displayName:"Export Hyperlinks",defaultVal:!0,editor:a.JS.Widgets.editorTemplates.bool,from:b.parseBool},c.xlsRawDataMode={propertyName:"rawDataMode",modelName:"@RawDataMode",displayName:"Raw Data Mode",defaultVal:!1,editor:a.JS.Widgets.editorTemplates.bool,from:b.parseBool},c.xlsShowGridLines={propertyName:"showGridLines",modelName:"@ShowGridLines",displayName:"Show Grid Lines",defaultVal:!1,editor:a.JS.Widgets.editorTemplates.bool,from:b.parseBool},c.xlsExportOptionsSheetName={propertyName:"sheetName",modelName:"@SheetName",displayName:"Sheet Name",defaultVal:"Sheet",editor:a.JS.Widgets.editorTemplates.text},c.excludeDifferentFilesMode=d,c.htmlExportModePreview={propertyName:c.htmlExportMode.propertyName,modelName:c.htmlExportMode.modelName,defaultVal:c.htmlExportMode.defaultVal,editor:c.htmlExportMode.editor,displayName:c.htmlExportMode.displayName,from:d,values:c.defaultExportModePreview},c.xlsExportModePreview={propertyName:c.xlsExportMode.propertyName,modelName:c.xlsExportMode.modelName,defaultVal:c.xlsExportMode.defaultVal,editor:c.xlsExportMode.editor,displayName:c.xlsExportMode.displayName,from:d,values:c.defaultExportModePreview},c.imageExportModePreview={propertyName:c.imageExportMode.propertyName,modelName:c.imageExportMode.modelName,defaultVal:c.imageExportMode.defaultVal,editor:c.imageExportMode.editor,displayName:c.imageExportMode.displayName,from:d,values:c.defaultExportModePreview},c.xlsxExportModePreview={propertyName:c.xlsxExportMode.propertyName,modelName:c.xlsxExportMode.modelName,defaultVal:c.xlsxExportMode.defaultVal,editor:c.xlsxExportMode.editor,displayName:c.xlsxExportMode.displayName,from:d,values:c.defaultExportModePreview}}(c=b.Report||(b.Report={}))}(b=a.Designer||(a.Designer={}))}(DevExpress||(DevExpress={}));var __extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},DevExpress;!function(a){var b;!function(b){var c;!function(b){b.AsyncExportApproach=!1;var c=function(){function c(c){this.actions=[],this.tabInfo=new a.Designer.TabInfo(a.Designer.getLocalization("Export Options"),"dxrd-preview-export-options",c.exportOptionsModel,"properties",ko.pureComputed(function(){return!!c.exportOptionsModel()})),this.actions.push({id:b.ActionId.ExportTo,text:"Export To",disabled:c.exportDisabled,visible:!0,clickAction:function(a){c.exportDisabled()||a.itemData.format&&c.exportDocumentTo(a.itemData.format)},items:ko.pureComputed(function(){var a=[];return c.exportOptionsModel()&&(c.exportOptionsModel().pdf&&a.push({text:"PDF",format:"pdf"}),c.exportOptionsModel().xls&&a.push({text:"XLS",format:"xls"}),c.exportOptionsModel().xlsx&&a.push({text:"XLSX",format:"xlsx"}),c.exportOptionsModel().rtf&&a.push({text:"RTF",format:"rtf"}),c.exportOptionsModel().mht&&a.push({text:"MHT",format:"mht"}),c.exportOptionsModel().html&&a.push({text:"HTML",format:"html"}),c.exportOptionsModel().textExportOptions&&a.push({text:"Text",format:"txt"}),c.exportOptionsModel().csv&&a.push({text:"CSV",format:"csv"}),c.exportOptionsModel().image&&a.push({text:"Image",format:"image"})),[{text:"Export To",imageClassName:"dxrd-image-export-to",items:a}]}),templateName:"dxrd-preview-export-to"})}return c.prototype.getActions=function(){return this.actions},c}();b.ExportOptionsModel=c}(c=b.Preview||(b.Preview={}))}(b=a.Report||(a.Report={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){var b;!function(b){var c;!function(c){var d=function(){function b(b,c){c=c||new a.JS.Utils.ModelSerializer,c.deserialize(this,b)}return b.from=function(a,c){return new b(a||{},c)},b.toJson=function(a,b,c){return b.serialize(a,e,c)},b.prototype.getInfo=function(){return e},b}();c.CsvExportOptions=d;var e=[c.textEncodingType,c.textExportMode,{propertyName:"quoteStringsWithSeparators",modelName:"@QuoteStringsWithSeparators",displayName:"Quote Strings with Separators",defaultVal:!0,editor:a.JS.Widgets.editorTemplates.bool,from:b.parseBool},c.csvTextSeparator,{propertyName:"skipEmptyRows",modelName:"@SkipEmptyRows",displayName:"Skip Empty Rows",defaultVal:!0,editor:a.JS.Widgets.editorTemplates.bool,from:b.parseBool},{propertyName:"skipEmptyColumns",modelName:"@SkipEmptyColumns",displayName:"Skip Empty Columns",defaultVal:!0,editor:a.JS.Widgets.editorTemplates.bool,from:b.parseBool}],f=function(){function b(b,c){c=c||new a.JS.Utils.ModelSerializer,c.deserialize(this,b)}return b.from=function(a,c){return new b(a||{},c)},b.toJson=function(a,b,c){return b.serialize(a,h,c)},b.prototype.getInfo=function(){return h},b.prototype.isPropertyDisabled=function(a){return("pageRange"===a||"pageBorderWidth"===a)&&"SingleFile"===this.imageExportMode()},b}();c.ImageExportOptions=f;var g=[c.pageBorderColor,c.pageBorderWidth,c.pageRange,{propertyName:"resolution",modelName:"@Resolution",displayName:"Resolution",editor:a.JS.Widgets.editorTemplates.numeric,defaultVal:96},{propertyName:"format",modelName:"@Format",displayName:"Format",editor:a.JS.Widgets.editorTemplates.combobox,defaultVal:"Png",from:b.fromEnum,values:{Bmp:"BMP",Gif:"GIF",Jpeg:"JPEG",Png:"PNG",Emf:"EMF",Wmf:"WMF",Tiff:"TIFF"}}],h=[c.imageExportMode].concat(g),i=[c.pageBorderColor,c.pageBorderWidth,c.pageRange,c.expotOptionsTitle,c.tableLayout,c.useHRefHyperlinks,c.allowURLsWithJSContent,c.removeSecondarySymbols],j=[c.htmlExportMode,c.embedImagesInHTML].concat(i),k=function(){function b(b,c){c=c||new a.JS.Utils.ModelSerializer,c.deserialize(this,b)}return b.from=function(a,c){return new b(a||{},c)},b.toJson=function(a,b,c){return b.serialize(a,j,c)},b.prototype.getInfo=function(){return j},b.prototype.isPropertyDisabled=function(a){return("pageRange"===a||"pageBorderWidth"===a)&&"SingleFile"===this.htmlExportMode()},b}();c.HtmlExportOptions=k;var l=[c.pageBorderColor,c.pageBorderWidth,c.pageRange,c.expotOptionsTitle,c.characterSet,c.tableLayout,c.useHRefHyperlinks,c.allowURLsWithJSContent,c.removeSecondarySymbols],m=[c.htmlExportMode].concat(l),n=function(){function b(b,c){c=c||new a.JS.Utils.ModelSerializer,c.deserialize(this,b)}return b.from=function(a,c){return new b(a||{},c)},b.toJson=function(a,b,c){return b.serialize(a,m,c)},b.prototype.getInfo=function(){return m},b.prototype.isPropertyDisabled=function(a){return("pageRange"===a||"pageBorderWidth"===a)&&"SingleFile"===this.htmlExportMode()},b}();c.MhtExportOptions=n;var o=function(){function b(b,c){c=c||new a.JS.Utils.ModelSerializer,c.deserialize(this,b)}return b.from=function(a,c){return new b(a||{},c)},b.toJson=function(a,b,c){return b.serialize(a,p,c)},b.prototype.getInfo=function(){return p},b}();c.PdfExportDocumentOptions=o;var p=[{propertyName:"author",modelName:"@Author",displayName:"Author",defaultVal:"",editor:a.JS.Widgets.editorTemplates.text},{propertyName:"application",modelName:"@Application",displayName:"Application",defaultVal:"",editor:a.JS.Widgets.editorTemplates.text},{propertyName:"title",modelName:"@Title",displayName:"Title",defaultVal:"",editor:a.JS.Widgets.editorTemplates.text},{propertyName:"subject",modelName:"@Subject",displayName:"Subject",defaultVal:"",editor:a.JS.Widgets.editorTemplates.text},{propertyName:"keywords",modelName:"@Keywords",displayName:"Keywords",defaultVal:"",editor:a.JS.Widgets.editorTemplates.text}],q=function(){function b(b,c){c=c||new a.JS.Utils.ModelSerializer,c.deserialize(this,b)}return b.from=function(a,c){return new b(a||{},c)},b.toJson=function(a,b,c){return b.serialize(a,r,c)},b.prototype.getInfo=function(){return r},b}();c.PdfPermissionsOptions=q;var r=[{propertyName:"printingPermissions",modelName:"@PrintingPermissions",displayName:"Printing Permissions",defaultVal:"None",editor:a.JS.Widgets.editorTemplates.combobox,values:{None:"None",LowResolution:"LowResolution",HighResolution:"HighResolution"}},{propertyName:"changingPermissions",modelName:"@ChangingPermissions",displayName:"Changing Permissions",defaultVal:"None",editor:a.JS.Widgets.editorTemplates.combobox,values:{None:"None",InsertingDeletingRotating:"InsertingDeletingRotating",FillingSigning:"FillingSigning",CommentingFillingSigning:"CommentingFillingSigning",AnyExceptExtractingPages:"AnyExceptExtractingPages"}},{propertyName:"enableCopying",modelName:"@EnableCopying",displayName:"Enable Copying",defaultVal:!1,editor:a.JS.Widgets.editorTemplates.bool,from:b.parseBool},{propertyName:"enableScreenReaders",modelName:"@EnableScreenReaders",displayName:"Enable Screen Readers",defaultVal:!0,editor:a.JS.Widgets.editorTemplates.bool,from:b.parseBool}],s=function(){function b(b,c){c=c||new a.JS.Utils.ModelSerializer,c.deserialize(this,b)}return b.from=function(a,c){return new b(a||{},c)},b.toJson=function(a,b,c){return b.serialize(a,t,c)},b.prototype.getInfo=function(){return t},b}();c.PdfPasswordSecurityOptions=s;var t=[{propertyName:"openPassword",modelName:"@OpenPassword",displayName:"Open Password",defaultVal:"",editor:a.JS.Widgets.editorTemplates.text},{propertyName:"permissionsPassword",modelName:"@PermissionsPassword",displayName:"Permissions Password",defaultVal:"",editor:a.JS.Widgets.editorTemplates.text},{propertyName:"permissionsOptions",modelName:"PermissionsOptions",displayName:"Pdf Permissions Options",from:q.from,toJsonObject:q.toJson,editor:a.JS.Widgets.editorTemplates.objecteditor}],u=function(){function b(b,c){c=c||new a.JS.Utils.ModelSerializer,c.deserialize(this,b)}return b.from=function(a,c){return new b(a||{},c)},b.toJson=function(a,b,c){return b.serialize(a,v,c)},b.prototype.getInfo=function(){return v},b.prototype.isPropertyDisabled=function(){return!1},b}();c.PdfExportOptions=u;var v=[{propertyName:"convertImagesToJpeg",modelName:"@ConvertImagesToJpeg",displayName:"Convert Images to Jpeg",defaultVal:!0,editor:a.JS.Widgets.editorTemplates.bool,from:b.parseBool},{propertyName:"showPrintDialogOnOpen",modelName:"@ShowPrintDialogOnOpen",displayName:"Show Print Dialog on Open",defaultVal:!1,editor:a.JS.Widgets.editorTemplates.bool,from:b.parseBool},{propertyName:"compressed",modelName:"@Compressed",displayName:"Compressed",defaultVal:!0,editor:a.JS.Widgets.editorTemplates.bool,from:b.parseBool},{propertyName:"neverEmbeddedFonts",modelName:"@NeverEmbeddedFonts",displayName:"Never Embedded Fonts",defaultVal:"",editor:a.JS.Widgets.editorTemplates.text},{propertyName:"imageQuality",modelName:"@ImageQuality",displayName:"Image Quality",editor:a.JS.Widgets.editorTemplates.combobox,defaultVal:"Highest",from:b.fromEnum,values:{Lowest:"Lowest",Low:"Low",Medium:"Medium",Hight:"Hight",Highest:"Highest"}},{propertyName:"pdfACompatibility",modelName:"@PdfACompatibility",displayName:"PDF A Compatibility",editor:a.JS.Widgets.editorTemplates.combobox,defaultVal:"None",from:b.fromEnum,values:{Hight:"None",PdfA2b:"PdfA2b"}},c.pageRange,{propertyName:"documentOptions",modelName:"DocumentOptions",displayName:"Document Options",from:o.from,toJsonObject:o.toJson,editor:a.JS.Widgets.editorTemplates.objecteditor},{propertyName:"pdfPasswordSecurityOptions",modelName:"PdfPasswordSecurityOptions",displayName:"Pdf Password Security Options",from:s.from,toJsonObject:s.toJson,editor:a.JS.Widgets.editorTemplates.objecteditor}],w=function(){function b(b,c){c=c||new a.JS.Utils.ModelSerializer,c.deserialize(this,b)}return b.from=function(a,c){return new b(a||{},c)},b.toJson=function(a,b,c){return b.serialize(a,x,c)},b.prototype.getInfo=function(){return x},b.prototype.isPropertyDisabled=function(a){return("pageRange"===a||"exportWatermarks"===a)&&"SingleFile"===this.rtfExportMode()},b}();c.RtfExportOptions=w;var x=[c.rtfExportMode,c.pageRange,{propertyName:"exportWatermarks",modelName:"@ExportWatermarks",displayName:"Export Watermarks",defaultVal:!0,editor:a.JS.Widgets.editorTemplates.bool,from:b.parseBool}],y=function(){function b(b,c){c=c||new a.JS.Utils.ModelSerializer,c.deserialize(this,b)}return b.from=function(a,c){return new b(a||{},c)},b.toJson=function(a,b,c){return b.serialize(a,z,c)},b.prototype.getInfo=function(){return z},b}();c.TextExportOptions=y;var z=[c.textEncodingType,{propertyName:"quoteStringsWithSeparators",modelName:"@QuoteStringsWithSeparators",displayName:"Quote Strings with Separators",defaultVal:!1,editor:a.JS.Widgets.editorTemplates.bool,from:b.parseBool},{propertyName:"separator",modelName:"@Separator",displayName:"Separator",defaultVal:"TAB",editor:a.JS.Widgets.editorTemplates.text},c.textExportMode],A=[c.xlsExportHyperlinks,c.pageRange,c.xlsRawDataMode,c.xlsExportOptionsSheetName,c.xlsShowGridLines,{propertyName:"suppress256ColumnsWarning",modelName:"@Suppress256ColumnsWarning",displayName:"Suppress 256 Columns Warning",defaultVal:!1,editor:a.JS.Widgets.editorTemplates.bool,from:b.parseBool},{propertyName:"suppress65536RowsWarning",modelName:"@Suppress65536RowsWarning",displayName:"Suppress 65536 Rows Warning",defaultVal:!1,editor:a.JS.Widgets.editorTemplates.bool,from:b.parseBool},c.xlsTextExportMode,{propertyName:"workbookColorPaletteCompliance",modelName:"@WorkbookColorPaletteCompliance",displayName:"Workbook Color Palette Compliance",editor:a.JS.Widgets.editorTemplates.combobox,defaultVal:"ReducePaletteForExactColors",from:b.fromEnum,values:{ReducePaletteForExactColors:"ReducePaletteForExactColors",AdjustColorsToDefaultPalette:"AdjustColorsToDefaultPalette"}}],B=[c.xlsExportMode].concat(A),C=function(){function b(b,c){c=c||new a.JS.Utils.ModelSerializer,c.deserialize(this,b)}return b.from=function(a,c){return new b(a||{},c)},b.toJson=function(a,b,c){return b.serialize(a,B,c)},b.prototype.getInfo=function(){return B},b.prototype.isPropertyDisabled=function(a){return"pageRange"===a&&"SingleFile"===this.xlsExportMode()},b}();c.XlsExportOptions=C;var D=[c.xlsExportHyperlinks,c.pageRange,c.xlsRawDataMode,c.xlsExportOptionsSheetName,c.xlsShowGridLines,c.xlsTextExportMode],E=[c.xlsxExportMode].concat(D),F=function(){function b(b,c){c=c||new a.JS.Utils.ModelSerializer,c.deserialize(this,b)}return b.from=function(a,c){return new b(a||{},c)},b.toJson=function(a,b,c){return b.serialize(a,E,c)},b.prototype.getInfo=function(){return E},b.prototype.isPropertyDisabled=function(a){return"pageRange"===a&&"SingleFile"===this.xlsxExportMode()},b}();c.XlsxExportOptions=F;var G=function(){function b(b,c){c=c||new a.JS.Utils.ModelSerializer,c.deserialize(this,b)}return b.from=function(a,c){return new b(a||{},c)},b.toJson=function(a,b,c){return b.serialize(a,H,c)},b.prototype.getInfo=function(){return H},b}();c.ExportOptions=G;var H=[{propertyName:"csv",modelName:"Csv",displayName:"CSV Export Options",from:d.from,toJsonObject:d.toJson,editor:a.JS.Widgets.editorTemplates.objecteditor},{propertyName:"html",modelName:"Html",displayName:"HTML Export Options",from:k.from,toJsonObject:k.toJson,editor:a.JS.Widgets.editorTemplates.objecteditor},{propertyName:"image",modelName:"Image",displayName:"Image Export Options",from:f.from,toJsonObject:f.toJson,editor:a.JS.Widgets.editorTemplates.objecteditor},{propertyName:"mailMessage",modelName:"MailMessage",displayName:"Mail Message Export Options",from:n.from,toJsonObject:n.toJson,editor:a.JS.Widgets.editorTemplates.objecteditor},{propertyName:"mht",modelName:"Mht",displayName:"MHT Export Options",from:n.from,toJsonObject:n.toJson,editor:a.JS.Widgets.editorTemplates.objecteditor},{propertyName:"pdf",modelName:"Pdf",displayName:"PDF Export Options",from:u.from,toJsonObject:u.toJson,editor:a.JS.Widgets.editorTemplates.objecteditor},{propertyName:"rtf",modelName:"Rtf",displayName:"RTF Export Options",from:w.from,toJsonObject:w.toJson,editor:a.JS.Widgets.editorTemplates.objecteditor},{propertyName:"textExportOptions",modelName:"Text",displayName:"Text Export Options",from:y.from,toJsonObject:y.toJson,editor:a.JS.Widgets.editorTemplates.objecteditor},{propertyName:"xls",modelName:"Xls",displayName:"XLS Export Options",from:C.from,toJsonObject:C.toJson,editor:a.JS.Widgets.editorTemplates.objecteditor},{propertyName:"xlsx",modelName:"Xlsx",displayName:"XLSx Export Options",from:F.from,toJsonObject:F.toJson,editor:a.JS.Widgets.editorTemplates.objecteditor}],I=[c.htmlExportModePreview].concat(i),J=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b.from=function(a,c){return new b(a||{},c)},b.toJson=function(a,b,c){return b.serialize(a,I,c)},b.prototype.getInfo=function(){return I},b}(k);c.HtmlExportOptionsPreview=J;var K=[c.imageExportModePreview].concat(g),L=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b.from=function(a,c){return new b(a||{},c)},b.toJson=function(a,b,c){return b.serialize(a,K,c)},b.prototype.getInfo=function(){return K},b}(f);c.ImageExportOptionsPreview=L;var M=[c.htmlExportModePreview].concat(l),N=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b.from=function(a,c){return new b(a||{},c)},b.toJson=function(a,b,c){return b.serialize(a,M,c)},b.prototype.getInfo=function(){return M},b}(n);c.MhtExportOptionsPreview=N;var O=[c.xlsExportModePreview].concat(A),P=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b.from=function(a,c){return new b(a||{},c)},b.toJson=function(a,b,c){return b.serialize(a,O,c)},b.prototype.getInfo=function(){return O},b}(C);c.XlsExportOptionsPreview=P;var Q=[c.xlsxExportModePreview].concat(D),R=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b.from=function(a,c){return new b(a||{},c)},b.toJson=function(a,b,c){return b.serialize(a,Q,c)},b.prototype.getInfo=function(){return Q},b}(F);c.XlsxExportOptionsPreview=R;var S=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b.from=function(a,c){return new b(a||{},c)},b.toJson=function(a,b,c){return b.serialize(a,T,c)},b.prototype.getInfo=function(){return T},b}(G);c.ExportOptionsPreview=S;var T=[{propertyName:"csv",modelName:"Csv",displayName:"CSV Export Options",from:d.from,toJsonObject:d.toJson,editor:a.JS.Widgets.editorTemplates.objecteditor},{propertyName:"html",modelName:"Html",displayName:"HTML Export Options",from:J.from,toJsonObject:J.toJson,editor:a.JS.Widgets.editorTemplates.objecteditor},{propertyName:"image",modelName:"Image",displayName:"Image Export Options",from:L.from,toJsonObject:L.toJson,editor:a.JS.Widgets.editorTemplates.objecteditor},{propertyName:"mht",modelName:"Mht",displayName:"MHT Export Options",from:N.from,toJsonObject:N.toJson,editor:a.JS.Widgets.editorTemplates.objecteditor},{propertyName:"pdf",modelName:"Pdf",displayName:"PDF Export Options",from:u.from,toJsonObject:u.toJson,editor:a.JS.Widgets.editorTemplates.objecteditor},{propertyName:"rtf",modelName:"Rtf",displayName:"RTF Export Options",from:w.from,toJsonObject:w.toJson,editor:a.JS.Widgets.editorTemplates.objecteditor},{propertyName:"textExportOptions",modelName:"Text",displayName:"Text Export Options",from:y.from,toJsonObject:y.toJson,editor:a.JS.Widgets.editorTemplates.objecteditor},{propertyName:"xls",modelName:"Xls",displayName:"XLS Export Options",from:P.from,toJsonObject:P.toJson,editor:a.JS.Widgets.editorTemplates.objecteditor},{propertyName:"xlsx",modelName:"Xlsx",displayName:"XLSx Export Options",from:R.from,toJsonObject:R.toJson,editor:a.JS.Widgets.editorTemplates.objecteditor}]}(c=b.Report||(b.Report={}))}(b=a.Designer||(a.Designer={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){var b;!function(b){var c;!function(b){function c(a,b){return 100*a/b+"%"}function d(a,b,e){a&&(!!a.active&&!!a.active(!1)||(a.active=ko.observable(!1)),a.onClick=function(){b&&b(a)},a.bricks&&a.bricks.forEach(function(f){f[e?"rightP":"leftP"]=c(f.left,a.width),f.widthP=c(f.width,a.width),f.topP=c(f.top,a.height),f.heightP=c(f.height,a.height),d(f,b,e)}))}var e=96;b.initializeBrick=d;var f=function(){function b(b,c){this.getBricks=function(d){return a.Designer.ajax(b,"getBrickMap",encodeURIComponent(JSON.stringify({pageIndex:d,documentId:c})))}}return b}();b.PreviewPageBrickProvider=f;var g=function(a){function f(b,f,g,h,i,j,k,l){var m=this;a.call(this),this.isClientVisible=ko.observable(!1),this.originalHeight=ko.observable(0),this.originalWidth=ko.observable(0),this.loadingText="Loading...",this.realZoom=ko.observable(1),this.actualResolution=0,this.pageLoadFailed=ko.observable(!1),this.imageSrc=ko.observable(""),this.cachedImageSrc=ko.observable(""),this.brick=ko.observable(null),this.brickLoading=ko.observable(!0),this.active=ko.observable(!1),this._selectedBrickPath=null,this.pageIndex=b,this.documentId=i||ko.observable(null),this.brickProvider=j,this.pageLoading=k||ko.observable(!0),this.originalHeight(ko.unwrap(g)),this.originalWidth(ko.unwrap(f)),this.zoom=h,this.isClientVisible.subscribe(function(){m.isClientVisible()&&m._setPageImgSrc(i(),m.zoom())}),this.width=ko.pureComputed(function(){return Math.ceil(m.originalWidth()*m._getCurrentResolution(m.zoom())/e)}),this.height=ko.pureComputed(function(){return Math.ceil(m.originalHeight()*m._getCurrentResolution(m.zoom())/e)});var n=this;this.isEmpty=-1===b&&!j&&!l,this.onPageLoaded=function(){n.pageLoading(!1),n.pageLoadFailed(!1),n.cachedImageSrc()!==n.imageSrc()&&(n.originalHeight()&&ko.isObservable(g)&&g(n.originalHeight()),n.originalWidth()&&ko.isObservable(f)&&f(n.originalWidth()),!n.brick()&&n.brickProvider?n.brickProvider.getBricks(n.pageIndex).done(function(a){try{if(!a||!a.brick)return;n.brickColumnWidthArray=a.columnWidthArray,n.originalWidth(a.brick.width),n.originalHeight(a.brick.height),d(a.brick,l,a.rtl),a.brick[a.rtl?"rightP":"leftP"]=c(a.brick.left,m.originalWidth()),a.brick.topP=c(a.brick.top,m.originalHeight()),a.brick.widthP=c(a.brick.width,m.originalWidth()),a.brick.heightP=c(a.brick.height,m.originalHeight()),n.brick(a.brick),n._selectedBrickPath&&n.selectBrick(n._selectedBrickPath)}finally{n.brickLoading(!1)}}).fail(function(){n.brickLoading(!1)}):n.brickLoading(!1),n.cachedImageSrc(n.imageSrc()))},this.onPageLoadFailed=function(){-1!==n.pageIndex&&n.isClientVisible()&&(n.pageLoadFailed(!0),n.pageLoading(!1),n.brickLoading(!1))},this.resetBrickRecusive=function(a){a&&a.active&&(a.active(!1),a.bricks&&a.bricks.forEach(function(a){n.resetBrickRecusive(a)}))},this.selectBrick=function(a,b){l&&l(null);var c=n.brick();if(!b&&n.resetBrickRecusive(c),a){if(!c)return void(n._selectedBrickPath=a);var d=a.split(",");d.forEach(function(a){c=c.bricks[parseInt(a)]}),c.active(!0)}},this._disposables.push(ko.computed(function(){m.active()||(m.resetBrickRecusive(m.brick()),m._selectedBrickPath=null)}))}return __extends(f,a),f.prototype._getCurrentResolution=function(a){return Math.round((a?a:1)*e)},f.prototype.updateSize=function(a){var b=this._getCurrentResolution(a);return this.realZoom(b/e),b},f.prototype.clearBricks=function(){this.brick(null),this.brickLoading(!0)},f.prototype._setPageImgSrc=function(a,c){if(this.pageLoadFailed(!1),!a||-1===this.pageIndex)return void this.imageSrc(null);var d=this.updateSize(c);if(!(this.actualResolution===d||20>d)||!this.imageSrc()){this.actualResolution=d;var e=Math.round(d*(window.devicePixelRatio||1));this.imageSrc(b.HandlerUri+"?actionKey=getPage&unifier="+b.generateGuid()+"&arg="+encodeURIComponent(JSON.stringify({pageIndex:this.pageIndex,documentId:a,resolution:e})))}},f}(a.Designer.Disposable);b.PreviewPage=g}(c=b.Preview||(b.Preview={}))}(b=a.Report||(a.Report={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){var b;!function(b){var c;!function(b){b.formatSearchResult=function(a){return a&&"page "+(a.pageIndex+1)},b.searchAvailable=ko.observable(!0);var c=function(c){function e(d){var f=this;c.call(this),this._cachedRequests={},this._cachedWholeWordRequests={},this._cachedCaseSensitiveRequests={},this._cachedWholeWordWithCaseRequests={},this.actions=[],this.focusRequested=ko.observable(!0),this.matchWholeWord=ko.observable(!1),this.matchCase=ko.observable(!1),this.searchUp=ko.observable(!1),this.searchText=ko.observable(""),this.searchResult=ko.observable([]),this.loading=ko.observable(!1),this._resultNavigator=e.createResultNavigator(this,d),this.clean=function(){f.searchText("")};var g=this.matchCase(),h=this.matchWholeWord();this.findUp=function(){f.searchUp(!0),f.findNext()},this.findDown=function(){f.searchUp(!1),f.findNext()},this.goToResult=function(a){f._resultNavigator.goToResult(a.id)};var i=function(b){if(f.searchResult([]),f._resultNavigator.currentResult(null),g=f.matchCase(),h=f.matchWholeWord(),!b)return void(d.pages()&&d.pages()[d.pageIndex()]&&d.pages()[d.pageIndex()].selectBrick(""));var c=f.matchCase(),b=c?f.searchText():f.searchText().toLocaleLowerCase(),e=f.matchWholeWord()?c?f._cachedWholeWordWithCaseRequests:f._cachedWholeWordRequests:c?f._cachedCaseSensitiveRequests:f._cachedRequests;if(e[b])return void f.searchResult(e[b]);f.loading(!0);var i=f;d.requestWrapper.findTextRequest(b).done(function(a){i.findTextRequestDone(a,e[b])}).fail(function(b){i.loading(!1),d._processError(a.Designer.getLocalization("An error occurred during search"),b)})};this.findNext=function(){f.loading()||(g===f.matchCase()||f.searchText().toUpperCase()===f.searchText().toLowerCase())&&h===f.matchWholeWord()&&f._resultNavigator.next(f.searchUp())||i(f.searchText())},this._disposables.push(this.searchText.subscribe(function(a){i(a)}));var j=ko.pureComputed(function(){var a=d._currentDocumentId(),b=d.pageIndex();return d.documentBuilding()||!a||-1===b});this.actions.push({id:b.ActionId.Search,text:"Search",imageClassName:"dxrd-image-search",disabled:j,visible:ko.pureComputed(function(){return b.searchAvailable()}),hasSeparator:!0,clickAction:function(){f.tabInfo.active()?f.tabInfo.active.notifySubscribers(!0):f.tabInfo.active(!0)}}),this.tabInfo=new a.Designer.TabInfo(a.Designer.getLocalization("Search"),"dxrd-preview-search",this,"search",ko.pureComputed(function(){return!j()&&b.searchAvailable()})),this._disposables.push(this.tabInfo.active.subscribe(function(a){a&&setTimeout(function(){return f.focusRequested.notifySubscribers()},100)}))}return __extends(e,c),e.prototype.findTextRequestDone=function(a,b){return this.loading(!1),a?(b=(a.success?a.matches:[])||[],void this.searchResult(b)):void this.searchResult([])},e.prototype.getActions=function(){return this.actions},Object.defineProperty(e.prototype,"disabled",{get:function(){return this.loading()},enumerable:!0,configurable:!0}),e.createResultNavigator=function(a,b){return new d(a,b)},e}(a.Designer.Disposable);b.SearchViewModel=c;var d=function(a){function b(b,c){var d=this;a.call(this),this.currentResult=ko.observable(null);var e=function(a){if(a){c.goToPage&&c.goToPage(a.pageIndex);var b=c.pages.peek()[a.pageIndex];b&&b.selectBrick(a.indexes)}};this.getFirstMatchFromPage=function(a,d,e){if(!b.searchResult()||0===b.searchResult().length)return null;var f,g=function(a){b.searchResult().forEach(function(b){e&&b.pageIndex===a?(!f||b.id<f.id&&!d||b.id>f.id&&d)&&(f=b):(b.pageIndex>=a&&!d&&(!f||b.id<f.id)||b.pageIndex<=a&&d&&(!f||b.id>f.id))&&(f=b)})};return g(a),!f&&g(d?c.pages().length:0),f};var f=function(a,f,g){if(b.searchResult()&&0!==b.searchResult().length){var h=f>=0&&b.searchResult().length>f?b.searchResult()[f]:d.getFirstMatchFromPage(c.pageIndex.peek(),b.searchUp.peek(),g);d.currentResult(h),a&&e(d.currentResult.peek())}else c.pages()&&c.pages()[c.pageIndex()]&&c.pages()[c.pageIndex()].selectBrick("")};this.goToResult=function(a){return 0===a||a?void f(!0,a):null},this._disposables.push(c.pageIndex.subscribe(function(){d.currentResult(null)})),this._disposables.push(b.searchResult.subscribe(function(){f(!0)})),this.next=function(a){
if(!b.searchResult())return!1;if(!d.currentResult()&&d.currentResult(d.getFirstMatchFromPage(c.pageIndex(),a)),!d.currentResult())return!1;var f,g=d.currentResult().id;return f=a?0===g?b.searchResult().length-1:g-1:g===b.searchResult().length-1?0:g+1,d.currentResult(b.searchResult()[f]),e(d.currentResult()),!0}}return __extends(b,a),b}(a.Designer.Disposable);b.SearchResultNavigator=d;var e="dx-searcheditor",f=e+"",g=e+"-button dx-widget dx-dropdowneditor-button",h="."+e+"-button",i=e+"-icon dx-dropdowneditor-icon dx-icon-dxrd-image-move",j=function(b){function c(c,d){this._activeStateUnit=h;var e=this,f=d&&d.searchModel;this._focusRequestRaised=function(){e.focus()},f().focusRequested.subscribe(function(){return e._focusRequestRaised()}),d.onEnterKey=function(b){a.browser&&a.browser.msie&&b&&b.component&&(b.component.blur(),b.component.focus()),e.findNext(f,b&&b.jQueryEvent&&b.jQueryEvent.shiftKey)},b.call(this,c,d)}return __extends(c,b),c.prototype.findNext=function(a,b){if(!a||!a())return!1;try{b?a().loading&&!a().loading()&&a().findUp():a().loading&&!a().loading()&&a().findDown()}finally{return!0}},c.prototype._init=function(){b.prototype._init.call(this),this.element().addClass(f)},c.prototype._optionChanged=function(a,c){var d=a.name||a,e=c||a.value;switch(d){case"searchModel":e&&this.option("value",e.searchText());break;case"value":var f=this.option("searchModel");f&&f()&&f().searchText(e);default:b.prototype._optionChanged.apply(this,arguments)}},c.prototype._render=function(){b.prototype._render.call(this),this._renderButton("Down"),this._renderButton("Up")},c.prototype._renderButton=function(a){this._button=$("<div />").addClass(g),this._attachButtonEvents(a),this._buttonIcon=$("<div />").addClass(i+a.toLowerCase()).appendTo(this._button);var c=b.prototype._buttonsContainer.call(this);this._button.appendTo(c)},c.prototype._attachButtonEvents=function(a){var b=this;this._button.off("click"),this.option("disabled")||this._button.on("click",function(c){b.findNext(b.option("searchModel"),"up"===a.toLowerCase())&&c.stopPropagation()})},c}(a.ui.dxTextBox);b.dxSearchEditor=j,a.registerComponent("dxSearchEditor",j)}(c=b.Preview||(b.Preview={}))}(b=a.Report||(a.Report={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){var b;!function(b){var c;!function(b){var c=function(){function b(b){var c=this,f=new e;this.isEmpty=ko.pureComputed(function(){return!(b.documentMap()&&b.documentMap().nodes&&0!==b.documentMap().nodes.length)}),f.clickHandler=function(a){var c=a.data.bookmark;if(c){var d=c.pageIndex<0?0:c.pageIndex;b.pages.peek()[d].selectBrick(c.indexes)}},this.documentMapOptions=ko.pureComputed(function(){var a=f.selectedItem.subscribe(function(b){"0"===b.path&&b.collapsed()&&b.toggleCollapsed(),a.dispose()});return{itemsProvider:new d(b.documentMap()),selectedPath:ko.observable("0"),treeListController:f}}),this.tabInfo=new a.Designer.TabInfo(a.Designer.getLocalization("Document Map"),"dxrd-preview-document-map",this,"reportexplorer",ko.pureComputed(function(){return!c.isEmpty()}))}return b}();b.DocumentMapModel=c;var d=function(){function a(a){var b=this;this.bookmarkDict={},this.getItems=function(c){var d=$.Deferred();if(a)if(c.fullPath){var e=b._selectNode(a,c.fullPath);d.resolve(e)}else{var f=b._getRootNode(a);d.resolve(f)}return d.promise()}}return a.prototype._selectNode=function(b,c){if(this.bookmarkDict[c])return this.bookmarkDict[c];var d=c.split("."),e=b;if("0"!==d[0])return null;for(var f=1,g=d[f];f<d.length;f++,g=d[f]){if(!(e&&e.nodes&&e.nodes[g]))return null;e=e.nodes[g]}var h=a.fillNode(e);return h&&0!==h.length&&(this.bookmarkDict[c]=h),h},a.fillNode=function(a){return!a||!a.nodes||a.nodes.length<=0?null:a.nodes.map(function(a,b){return{name:b+"",displayName:a.text,isList:a.nodes&&a.nodes.length>0,bookmark:a,specifics:"node"}})},a.prototype._getRootNode=function(a){return[{name:"0",displayName:a.text,isList:a.nodes&&a.nodes.length>0,bookmark:a,specifics:"node"}]},a}();b.DocumentMapItemsProvider=d;var e=function(){function a(){this.selectedItem=ko.observable(null),this.clickHandler=function(){return void 0}}return a.prototype.itemsFilter=function(){return!0},a.prototype.hasItems=function(a){return a.isList===!0},a.prototype.canSelect=function(){return!0},a.prototype.select=function(a){this.canSelect(a)&&a!==this.selectedItem.peek()&&(this.selectedItem.peek()&&this.selectedItem.peek().isSelected(!1),this.selectedItem(a),a.isSelected(!0))},a}();b.DocumentMapTreeListController=e}(c=b.Preview||(b.Preview={}))}(b=a.Report||(a.Report={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){var b;!function(b){var c;!function(b){var c=function(){function b(){this._customizeParameterEditors=ko.observable()}return b.prototype._isKnownEnumType=function(a){return!!this._knownEnums&&this._knownEnums.some(function(b){return b.enumType===a})},b.getSerializationValue=function(a,b){return a instanceof Array?a.map(function(a){var c=ko.isObservable(a.value)?a.value():a;return c instanceof Date?b(c):c}):a instanceof Date?b(a):a},b.prototype.initialize=function(a,b){arguments.length>0&&(this._knownEnums=a,arguments.length>1&&this._customizeParameterEditors(b))},b.prototype.createInfo=function(b){var c=b.getParameterDescriptor(),d=this.isEnumType(b)?"Enum":ko.unwrap(c.type);return{propertyName:"value",displayName:c.displayName,editor:a.Designer.getEditorType(d),valueStore:this.getWrappedValueCollection(b)}},b.prototype.createMultiValue=function(a,b){var c=ko.observable();return null!==b&&void 0!==b&&c(b),{value:c,getInfo:function(){return[a.multiValueInfo()]}}},b.prototype.createMultiValueArray=function(a,b,c){var d=this,e=c?c:this.getValueConverter(ko.unwrap(b.type));return ko.observableArray(a.map(function(a){return d.createMultiValue(b,e(a))}))},b.prototype.isEnumType=function(a){return this._isKnownEnumType(ko.unwrap(a.type))},b.prototype.getWrappedValueCollection=function(a){var b=this.getValueCollection(a);return this.getItemsSource(b)},b.prototype.getValueCollection=function(a){var b=ko.unwrap(a.type);if(this._isKnownEnumType(b)){var c=this._knownEnums.filter(function(a){return a.enumType===b})[0];if(c&&c.values&&0!==c.values.length)return c.values.map(function(a){return{value:a.value,displayValue:a.displayName}})}},b.prototype.getItemsSource=function(b){return b?new a.data.DataSource({store:new a.Designer.SortedArrayStore(b),pageSize:100}):b},b.prototype.getParameterInfo=function(b){var c=this,d=this.createInfo(b);return b.multiValueInfo($.extend(!0,{},d,{propertyName:"value"})),ko.unwrap(b.isMultiValue)&&(d.editor=a.Designer.getEditorType(b.isMultiValueWithLookUp?"multiValueWithLookUp":"multiValue"),d.addHandler=function(){return c.createMultiValue(b)}),this._customizeParameterEditors()&&this._customizeParameterEditors()(b.getParameterDescriptor(),d),d},b.prototype.getValueConverter=function(){return function(a){return a}},b}();b.ParameterHelper=c;var d=function(b){function c(a,c){b.call(this),this.initialize(a,c)}return __extends(c,b),c.prototype.mapLookUpValues=function(a,b){var c=this.getValueConverter(a);return $.map(b||[],function(a){return{value:c(a.Value),displayValue:a.Description}})},c.fixPropertyName=function(a){return a.replace(/\./g,"_")},c.prototype.createInfo=function(d){var e=this,f=b.prototype.createInfo.call(this,d);return f.propertyName=c.fixPropertyName(d.path),"System.DateTime"===d.type&&(f.validationRules=[{type:"required",message:a.Designer.getLocalization("The value cannot be empty")}]),Object.defineProperty(f,"valueStore",{get:function(){var a=[];return a=d.isFilteredLookUpSettings||d.lookUpValues()&&0!==d.lookUpValues().length?d.lookUpValues():e.getValueCollection(d),e.getItemsSource(a)},set:function(a){d.lookUpValues(a)}}),f},c.prototype.isEnumType=function(a){return a.isFilteredLookUpSettings||!!a.lookUpValues()||b.prototype.isEnumType.call(this,a)},c.prototype.getValueConverter=function(c){return"System.DateTime"===c?function(b){return a.JS.Localization.parseDate(b)}:b.prototype.getValueConverter.call(this,c)},c}(c);b.PreviewParameterHelper=d;var e=function(b){function c(a,c){var e=this;b.call(this),this.valueInfo=ko.observable(),this.lookUpValues=ko.observableArray(),this.multiValueInfo=ko.observable(),this.type=a.TypeString,this.path=a.Path,this.visible=a.Visible,this.isFilteredLookUpSettings=a.IsFilteredLookUpSettings,this._originalLookUpValues=a.LookUpValues?c.mapLookUpValues(this.type,a.LookUpValues||[]):null,this.lookUpValues(this._originalLookUpValues),this.isMultiValue=a.MultiValue,this.isMultiValueWithLookUp=this.isMultiValue&&!!this.lookUpValues(),this.getParameterDescriptor=function(){return{description:a.Description,displayName:a.Description||a.Name,name:a.Name,type:a.TypeString,value:a.Value,multiValue:a.MultiValue,visible:a.Visible}},this._disposables.push(ko.computed(function(){var b=c.getParameterInfo(e);b.propertyName=d.fixPropertyName(a.Path),e.valueInfo(b)})),this._originalValue=a.Value,this.initialize(this._originalValue,c)}return __extends(c,b),c.prototype.safeAssignObservable=function(a,b){this[a]?this[a](b()):this[a]=b},c.prototype.initialize=function(b,c){var d=this;this.isMultiValueWithLookUp?(this.safeAssignObservable("_value",ko.observableArray((b||[]).map(function(a){return c.getValueConverter(d.type)(a)}))),this.safeAssignObservable("value",ko.observable(new a.Designer.Widgets.MultiValuesHelper(this._value,this.lookUpValues())))):this.isMultiValue?this.safeAssignObservable("value",c.createMultiValueArray(b,this)):this.safeAssignObservable("value",ko.observable(c.getValueConverter(this.type)(b)))},c}(a.Designer.Disposable);b.PreviewParameter=e;var f=function(f){function g(c,e){var g=this;f.call(this),this._parameters=[],this._getLookUpValueRequest=function(c){return a.Designer.ajax(b.HandlerUri,"getLookUpValues",encodeURIComponent(JSON.stringify(c)))},this._getDoneGetLookUpValueHandler=function(){var a=g;return function(b){try{if(!b||!b.parameters)return;b.parameters.forEach(function(b){var c=a._parameters.filter(function(a){return a.path===b.Key})[0];a._shouldProcessParameter(c)&&a._setLookUpValues(c,b.Value,c.visible)})}finally{a.parametersLoading(!1)}}},this._getFailGetLookUpValueHandler=function(){var b=g;return function(c){b.parametersLoading(!1),b._reportPreview._processError(a.Designer.getLocalization("Cannot supply filtered lookup values to a report parameter editor"),c)}},this.getInfo=ko.observable(null),this.needToRefreshLookUps=ko.observable(!1),this.isEmpty=ko.observable(!0),this.processInvisibleParameters=!1,this.parametersLoading=ko.observable(!1),this._reportPreview=c,this.parameterHelper=e||new d;var h=this;this.submit=function(){if(!h.parametersLoading()){h.parametersLoading(!0);var a=c.startBuild();a&&a.done(function(){h.parametersLoading(!1)})}},this._disposables.push(c.originalParametersInfo.subscribe(function(a){g.initialize(a)})),this.initialize(c.originalParametersInfo()),this.tabInfo=new a.Designer.TabInfo(a.Designer.getLocalization("Parameters"),"dxrd-preview-parameters",this,"parameters",ko.pureComputed(function(){return!g.isEmpty()}))}return __extends(g,f),Object.defineProperty(g.prototype,"_visibleParameters",{get:function(){return this._parameters.filter(function(a){return a.visible})},enumerable:!0,configurable:!0}),g.prototype._shouldProcessParameter=function(a){return this.processInvisibleParameters||a&&a.visible},g.prototype._convertLocalDateToUTC=function(a){return new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds()))},g.prototype._add=function(a){var b=this,c=new e(a,this.parameterHelper);this._parameters.push(c);var f=this.needToRefreshLookUps()||this._shouldProcessParameter(c)&&c.isFilteredLookUpSettings;if(this.needToRefreshLookUps(f),this._shouldProcessParameter(c)&&this._disposables.push((c.isMultiValueWithLookUp?c._value:c.value).subscribe(function(){!b.parametersLoading()&&b.needToRefreshLookUps()&&b.getLookUpValues(c.path)})),a.Visible){this.isEmpty(!1);var g=d.fixPropertyName(c.path);this[g]=c.value}},g.prototype._setLookUpValues=function(a,b,c){a.lookUpValues(this.parameterHelper.mapLookUpValues(a.type,b));var d=this._getParameterValuesContainedInLookups(b,a);a.isMultiValue?a.initialize(d.length>0?d:[],this.parameterHelper):a.initialize(d[0]&&d[0].Value||c&&b.length>0?b[0].Value:null,this.parameterHelper)},g.prototype._getParameterValuesContainedInLookups=function(a,b){var c=this;if(a){if(b.isMultiValue){var d=(b.value()&&b.value().selectedItems()||[]).map(function(a){return a.value});return d.filter(function(d){return c._filterParameterValuesContainsInLookups(a,b.type,d).length>0})}return this._filterParameterValuesContainsInLookups(a,b.type,b.value())}return[]},g.prototype._filterParameterValuesContainsInLookups=function(a,b,c){var d=this;return a.filter(function(a){return d._compareValues(d.parameterHelper.getValueConverter(b)(a.Value),c)})},g.prototype._compareValues=function(a,b){return a instanceof Date&&b instanceof Date?a-b===0:a===b},g.prototype.initialize=function(a){var b=this;if(this._parameters.forEach(function(a){delete b[d.fixPropertyName(a.path)]}),this._parameters=[],!a)return this.isEmpty(!0),void this.getInfo([]);this.parameterHelper.initialize(a.knownEnums),(a.parameters||[]).forEach(function(a){b._add(a)}),0===this._visibleParameters.length&&this.isEmpty(!0);var c=this._visibleParameters.map(function(a){return a.valueInfo()});this.getInfo(c),this._reportPreview.documentId||(!a.shouldRequestParameters||this.isEmpty()?this.submit():(this._reportPreview.removeEmptyPages(),this.tabInfo.active(!0),this._reportPreview.pageLoading(!1)))},g.prototype.getPathsAfterPath=function(a){for(var b=this,c=0,d=0;d<this._parameters.length;d++)if(this._parameters[d].path===a){c=d+1;break}var e=this._parameters.filter(function(a,d){return b._shouldProcessParameter(a)&&a.isFilteredLookUpSettings&&d>=c}).map(function(a){return a.path});return e||[]},g.prototype.serializeParameters=function(){var a=[],b=this;return this._parameters.forEach(function(d){var e=function(a){return"System.DateTime"===d.type&&a&&a instanceof Date?b._convertLocalDateToUTC(a):a},f=d.isMultiValueWithLookUp?d._value():d.value();a.push({Value:c.getSerializationValue(f,e),Key:d.path,TypeString:d.type})}),a},g.prototype.restore=function(){var a=this;if(!this.parametersLoading())try{this.parametersLoading(!0),this._parameters.forEach(function(b){a._shouldProcessParameter(b)&&(b.lookUpValues(b._originalLookUpValues),b.initialize(b._originalValue,a.parameterHelper))})}finally{this.parametersLoading(!1)}},g.prototype.isPropertyDisabled=function(){return this.parametersLoading()},g.prototype.getLookUpValues=function(a){var b=this.getPathsAfterPath(a);if(b&&0!==b.length){this.parametersLoading(!0);var c={reportId:this._reportPreview.reportId,requiredParameterPaths:b,parameters:this.serializeParameters(),timeZoneOffset:0-(new Date).getTimezoneOffset()};this._getLookUpValueRequest(c).done(this._getDoneGetLookUpValueHandler()).fail(this._getFailGetLookUpValueHandler())}},g}(a.Designer.Disposable);b.PreviewParametersViewModel=f}(c=b.Preview||(b.Preview={}))}(b=a.Report||(a.Report={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){var b;!function(b){var c;!function(b){function c(a,b,c){return function(){var d=$(b),e=d.find(".dxrd-preview .dxrd-right-panel").outerWidth()+d.find(".dxrd-right-tabs").outerWidth(),f=d.find(".dxrd-preview").width()-(e+5),g=c?{right:"",left:e}:{right:e,left:""};g.width=f,d.find(".dxrd-preview-wrapper").css(g),a(f)}}function d(a,b,c){var d=$(c),e=d.closest(".dxrd-preview-wrapper"),f=d.closest(".dxrd-preview");if(0===e.length||0===f.length)return 1;var g=f.find(".dxrd-right-panel").outerWidth()+f.find(".dxrd-right-tabs").outerWidth(),h=f.width()-(g+10),i=parseFloat(e.css("top").split("px")[0]),j=f.outerHeight(),k=j-i,l=k/(b+6),m=h/a;return Math.min(l,m)}function e(d,e,f,h,i,j,k,l,m){void 0===j&&(j=!0),void 0===l&&(l=!0),void 0===m&&(m=!1),f&&a.JS.Localization.addCultureInfo({messages:f}),a.config({rtlEnabled:!!k});var n=new b.PreviewRequestWrapper,o=new g(i,n,void 0,k),p=new b.SearchViewModel(o),q=new b.DocumentMapModel(o),r=new b.PreviewParametersViewModel(o,new b.PreviewParameterHelper(h&&h.knownEnums,e&&e.customizeParameterEditors)),s=new b.ExportOptionsModel(o);o.canSwitchToDesigner=!j,o.allowURLsWithJSContent=!!m,n.initialize(o,r,p);var t=new a.Designer.TabPanel([r.tabInfo,s.tabInfo,p.tabInfo,q.tabInfo],!0,k);t.collapsed(!0);var u=ko.observableArray([new b.PreviewActions(o),s,p,new b.PreviewDesignerActions(o)]);o.previewVisible(j);var v={rootStyle:"dxrd-preview",reportPreview:o,parametersModel:r,exportModel:s,searchModel:p,documentMapModel:q,tabPanel:t,globalActionProviders:u,globalActions:ko.computed(function(){var a=[];return u().forEach(function(b){a.push.apply(a,b.getActions(o))}),e&&e.customizeActions&&e.customizeActions(a),a}),rtl:o.rtlViewer};v.parts=[{templateName:"dxrd-preview-toolbar-scrollable",model:{actionLists:{toolbarItems:v.globalActions}}},{templateName:"dxrdp-surface",model:v.reportPreview},{templateName:"dxrd-right-panel-template-base",model:v}],d&&!o.canSwitchToDesigner&&l&&($(d).children().remove(),ko.applyBindings(v,d));var w=c(o.previewSize,d,k);return $(window).bind("resize",function(){w()}),t.width.subscribe(function(){setTimeout(w,1)}),v.updateSurfaceSize=function(){w()},w(),v}function f(b,c,d,e,f){var g=a.Report.Preview.createPreview(c,d,b.localization,b.parametersInfo,b.handlerUri,void 0,e,f,b.allowURLsWithJSContent);return(b.reportId||b.documentId)&&g.reportPreview.initialize($.Deferred().resolve(b)),g}a.JS.Utils.getLocalization=a.Designer.getLocalization,b.HandlerUri="DXXRDV.axd",b.TimeOut=12e4,b.MessageHandler={processError:function(b,c){a.Designer.NotifyAboutWarning(b,c)},processMessage:function(b,c){a.Designer.NotifyAboutWarning(b,c)},processWarning:function(b,c){a.Designer.NotifyAboutWarning(b,c)}},b.generateGuid=function(){var a=function(a){return Math.floor((1+Math.random())*Math.pow(65536,a)).toString(16).substring(1)};return a(2)+"-"+a(1)+"-"+a(1)+"-"+a(1)+"-"+a(3)};var g=function(c){function d(d,e,f,g){var h=this;void 0===g&&(g=!1),c.call(this),this.getPreviewPageBrickProvider=function(a,c){return new b.PreviewPageBrickProvider(a,c)},this.predefinedZoomLevels=ko.observableArray([5,2,1.5,1,.75,.5,.25]),this._pageWidth=ko.observable(818),this._pageHeight=ko.observable(1058),this._currentReportId=ko.observable(null),this._currentDocumentId=ko.observable(null),this._currentOperationId=ko.observable(null),this._stopBuildRequests={},this._closeDocumentRequests={},this._startBuildOperationId="",this._drillDownState=[],this.rtlReport=ko.observable(!1),this.currentPage=ko.observable(null),this.originalParametersInfo=ko.observable(null),this.pageIndex=ko.observable(-1),this.showMultipagePreview=ko.observable(!1),this.documentMap=ko.observable(),this.exportOptionsModel=ko.observable(),this.pageLoading=ko.observable(!1),this.documentBuilding=ko.observable(!1),this.pendingOperation=ko.observable(!1),this.progressBar=new b.ProgressViewModel,this.pages=ko.observableArray([]).extend({rateLimit:{timeout:20,method:"notifyWhenChangesStop"}}),this.isAutoFit=ko.observable(!0),this.exportDisabled=ko.pureComputed(function(){var a=h.progressBar.inProgress(),b=h.documentBuilding();return-1===h.pageIndex()||a||b}),this._zoom=ko.observable(1),this.zoom=ko.pureComputed({read:function(){return h.isAutoFit()||0===h._zoom()?0:h._zoom()},write:function(a){0!==a?(h._zoom(a),h.isAutoFit(!1)):h.isAutoFit(!0)}}),this._currentPageText=ko.pureComputed(function(){if(-1===h.pageIndex())return a.Designer.getLocalization("0 pages");var b=a.Designer.getLocalization("of");return h.pageIndex()+1+" "+b+" "+h.pages().length}),this._raiseOnSizeChanged=function(){h.onSizeChanged()&&h.onSizeChanged()()},this.previewSize=ko.observable(0),this.onSizeChanged=ko.observable(),this.previewVisible=ko.observable(!1),this.canSwitchToDesigner=!0,this.allowURLsWithJSContent=!1,b.HandlerUri=d||b.HandlerUri,this.previewHandlersHelper=f||new b.PreviewHandlersHelper(this),this.requestWrapper=e||new b.PreviewRequestWrapper,this.rtlViewer=g,this.documentBuilding.subscribe(function(a){if(!a)for(var b=0;b<h.pages().length;b++){var c=h.pages()[b];c.pageLoading()||c.clearBricks()}}),this._disposables.push(this.previewSize.subscribe(function(){return h._raiseOnSizeChanged()})),this._disposables.push(this._zoom.subscribe(function(){if(h.showMultipagePreview())h.pages().forEach(function(a){a.updateSize(a.zoom()),a.isClientVisible(!1)}),h._raiseOnSizeChanged();else{var a=h.pages()[h.pageIndex()];a&&a.isClientVisible.notifySubscribers(a.isClientVisible.peek())}})),ko.computed(function(){var a=h.pages(),b=h.pageIndex();if(a&&!(b>=a.length)){var c=null;b>=0&&(c=a[b]),c!=h.currentPage.peek()&&h.currentPage(c)}})}return __extends(d,c),d.prototype._doDrillDown=function(a){this._drillDownState.filter(function(b){return b.Key===a&&(b.Value=!b.Value)}),this.closeDocument(),this.progressBar.complete(),this.documentMap(null);for(var b=this.pages().length-1;b>=0;b--){var c=this.pages()[b];b>this.pageIndex()?this.pages.remove(c):(c.pageIndex=-1,c.brick(null),c._setPageImgSrc(null,1))}this._startBuildRequest()},d.prototype.removeEmptyPages=function(a){a&&this.pages.removeAll();for(var b=this.pages().length-1;b>=0;b--){var c=this.pages()[b];(c.isEmpty||-1===c.pageIndex)&&this.pages.remove(c)}},d.prototype._initialize=function(){this._drillDownState=[],this.closeDocument(),this.documentMap(null),this.pageIndex(-1),this.pageLoading(!0),this.progressBar.complete(),this.pages([new b.PreviewPage(-1,this._pageWidth,this._pageHeight,this._zoom,this._currentDocumentId,null,this.pageLoading)])},d.prototype._cleanTabInfo=function(){this.exportOptionsModel(null),this.documentMap(null)},d.prototype._export=function(c,d,e){var f=this,g=$.Deferred();if(b.AsyncExportApproach){var h=this;this.progressBar.text(a.Designer.getLocalization("Exporting the document...")),this.progressBar.cancelText(a.Designer.getLocalization("Cancel")),this.progressBar.startProgress(function(){f._currentOperationId(null)}),this.requestWrapper.getStartExportOperation(c).done(function(a){h.previewHandlersHelper.doneStartExportHandler(g,e,a)}).fail(function(a){h.previewHandlersHelper.errorStartExportHandler(g,a)})}else g.resolve(!0),this._safelyRunWindowOpen(d+"?actionKey=exportTo&arg="+c);return g.promise()},d.prototype._safelyRunWindowOpen=function(a,b){void 0===b&&(b="_blank");var c=window.open(a,b);return"_blank"===b&&c&&(c.opener=null),c},d.prototype.createBrickClickProcessor=function(a){var b=this;return function(c){if(b.goToPage(a,!0),c&&b.pages()[a].selectBrick(""),(!b.customProcessBrickClick||!b.customProcessBrickClick(a,c))&&c&&c.navigation)if(c.navigation.drillDownKey&&b.reportId&&b._doDrillDown&&b._doDrillDown(c.navigation.drillDownKey),c.navigation.pageIndex>=0){var d=b.pages().filter(function(a){return a.pageIndex===c.navigation.pageIndex})[0];d&&(b.goToPage(c.navigation.pageIndex),d.selectBrick(c.navigation.indexes))}else{var e=function(a){return b.allowURLsWithJSContent||"string"==typeof a&&-1===a.toLocaleLowerCase().indexOf("javascript:")};c.navigation.url&&e(c.navigation.url)&&b._safelyRunWindowOpen(c.navigation.url,c.navigation.target||"_blank")}}},d.prototype.openReport=function(b){var c=this;this._cleanTabInfo(),this.closeReport(),this.originalParametersInfo(null);var d=$.Deferred();return this._openReportOperationDeferred=d,this.requestWrapper.openReport(b).done(function(a){d.resolve(a)}).fail(function(e){d.reject(e),c._processError(a.Designer.getLocalization("Could not open report '"+b+"'"),e)}),this.initialize(d.promise())},d.prototype.initialize=function(b){this._currentReportId(null),this._currentDocumentId(null);var c=this;return this._initialize(),b.done(function(b){if(b&&!b.error&&(b.reportId||b.documentId)){c._currentReportId(b.reportId),c._currentDocumentId(b.documentId),c.rtlReport(b.rtlReport),b.pageHeight&&c._pageHeight(b.pageHeight),b.pageWidth&&c._pageWidth(b.pageWidth);var d=new a.Designer.Report.ExportOptionsPreview(b.exportOptions&&JSON.parse(b.exportOptions));if(c.exportOptionsModel(d),c.originalParametersInfo(b.parametersInfo),b.documentId){var e=c.getDoGetBuildStatusFunc();e(b.documentId)}}else c.pageLoading(!1),c._processError(a.Designer.getLocalization("The report preview initialization has failed"),b&&b.error)}).fail(function(){c.removeEmptyPages()}),b},d.prototype.deactivate=function(){this._initialize(),this._cleanTabInfo(),this.closeReport(),this._currentDocumentId(null),this._currentReportId(null)},d.prototype.startBuild=function(){return this._initialize(),this._startBuildRequest()},d.prototype._initializeStartBuild=function(){var c=this;return this.pendingOperation()||this._startBuildOperationId?!1:(this._startBuildOperationId=b.generateGuid(),this._currentDocumentId(null),this.progressBar.text(a.Designer.getLocalization("Document is building...")),this.progressBar.cancelText(a.Designer.getLocalization("Cancel")),this.progressBar.startProgress(function(){c.documentBuilding(!1)},function(){c.stopBuild()}),this.documentBuilding(!0),!0)},d.prototype._startBuildRequest=function(){if(!this._initializeStartBuild())return null;var a=this,b=$.Deferred();return this.requestWrapper.startBuildRequest().done(function(c){a.previewHandlersHelper.doneStartBuildHandler(b,c)}).fail(function(c){a.previewHandlersHelper.errorStartBuildHandler(b,c)}),b.promise()},d.prototype.getExportStatus=function(a){var b=this,c=this,d=$.Deferred();return setTimeout(function(){b.requestWrapper.getExportStatusRequest(a).done(function(b){c.previewHandlersHelper.doneExportStatusHandler(d,a,b)}).fail(function(a){c.previewHandlersHelper.errorExportStatusHandler(d,a)})},250),d.promise()},d.prototype.getExportResult=function(a,c){var d=encodeURIComponent(JSON.stringify({id:a,printable:!!c}));this._safelyRunWindowOpen(b.HandlerUri+"?actionKey=getExportResult&arg="+d)},d.prototype.getBuildStatus=function(a){var b=this,c=this,d=$.Deferred();return setTimeout(function(){b.requestWrapper.getBuildStatusRequest(a).done(function(b){c.previewHandlersHelper.doneGetBuildStatusHandler(d,a,b)}).fail(function(a){c.previewHandlersHelper.errorGetBuildStatusHandler(d,a)})},250),d.promise()},d.prototype.getDoGetBuildStatusFunc=function(){var a=this,b=function(c){var d=a.getBuildStatus(c);d.done(function(d){if(d&&d.requestAgain&&!a._stopBuildRequests[c]&&!a._closeDocumentRequests[c])b(c);else try{if(d.error||!d.requestAgain&&!d.pageCount)return void a.removeEmptyPages(!d.pageCount);if(!d.completed)return;a.getDocumentData(c),a.pages().forEach(function(b){b.updateSize(a._zoom());var d=b.pageIndex===a.pageIndex();b.actualResolution=0,b.isClientVisible(d),d&&b._setPageImgSrc(c,a._zoom())})}finally{a.progressBar.complete(),setTimeout(a._raiseOnSizeChanged,1e3)}})};return b},d.prototype.getDocumentData=function(b){var c=this;this.requestWrapper.getDocumentData(b).done(function(a){a&&(c._drillDownState=a.drillDownKeys||[],c.documentMap(a.documentMap))}).fail(function(d){c._processError(a.Designer.getLocalization("Cannot obtain additional document data for the current document"),d,c._closeDocumentRequests[b])})},d.prototype.exportDocumentTo=function(c){if(this._currentDocumentId()){var d=this.exportOptionsModel()?JSON.stringify((new a.JS.Utils.ModelSerializer).serialize(this.exportOptionsModel())):null,e=encodeURIComponent(JSON.stringify({documentId:this._currentDocumentId(),exportOptions:d,format:c}));this._export(e,b.HandlerUri)}},d.prototype.printDocument=function(c){if(this._currentDocumentId()){var d=new a.Designer.Report.ExportOptionsPreview({});d.pdf.showPrintDialogOnOpen=!0,c=parseInt(c),(c&&c>0||0===c)&&this.pages().length>c&&(d.pdf.pageRange=c+1);var e=JSON.stringify((new a.JS.Utils.ModelSerializer).serialize(d)),f=encodeURIComponent(JSON.stringify({documentId:this._currentDocumentId(),exportOptions:e,format:"printpdf"}));this._export(f,b.HandlerUri,!0)}},d.prototype.stopBuild=function(a){var b=a||this._currentDocumentId();return b?(this._stopBuildRequests[b]=!0,this.progressBar.complete(),void this.requestWrapper.stopBuild(b)):void(this._startBuildOperationId&&(this._stopBuildRequests[this._startBuildOperationId]=!0))},d.prototype.closeDocument=function(a){var b=a||this._currentDocumentId();return b?(this._closeDocumentRequests[b]=!0,this.progressBar.complete(),void this.requestWrapper.sendCloseRequest(b)):void(this._startBuildOperationId&&(this._closeDocumentRequests[this._startBuildOperationId]=!0))},d.prototype.closeReport=function(){this._openReportOperationDeferred&&this._openReportOperationDeferred.reject(),this._currentReportId()&&this.requestWrapper.sendCloseRequest(null,this._currentReportId())},d.prototype.goToPage=function(a,b){!b&&this.pageIndex.peek()===a||0===this.pages.peek().length||0>a||a>=this.pages.peek().length||(this.pageIndex(a),this.pages.peek().forEach(function(b){var c=b.pageIndex===a;b.active(c),b.isClientVisible(c)}))},d.prototype.getSelectedContent=function(){var a=this.pages()[this.pageIndex()];if(!a||!a.brickColumnWidthArray)return"";var b=[],c=function(a,d){a&&(a.active()&&-1!=a.genlIndex&&b.push(a),a.bricks&&0!=a.bricks.length&&a.bricks.forEach(function(a){c(a,d)}))};if(c(a.brick(),b),!b)return"";var d=[],e=function(a,b){b=b||"";for(var c=a-b.length,d=0;c>=d;d++)b+=" ";return b},f=a.brickColumnWidthArray.length,g=-1;b.forEach(function(a){var b=d[a.row];b||(b=[],d[a.row]=b);var c=a.content&&a.content.filter(function(a){return"text"===a.Key})[0];b[a.col]=c&&c.Value,f>a.col&&(f=a.col),g<a.col&&(g=a.col)});var h="";return d.forEach(function(b){for(var c=f;g>=c;c++)h+=e(a.brickColumnWidthArray[c],b[c]);h+="\r\n"}),h},d.prototype._processError=function(c,d,e,f){if(void 0===f&&(f=!0),!e){var g=a.Designer.getErrorMessage(d);g&&(c+=": "+g),b.MessageHandler.processError(c,f)}},Object.defineProperty(d.prototype,"reportId",{get:function(){return this._currentReportId()},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"documentId",{get:function(){return this._currentDocumentId()},enumerable:!0,configurable:!0}),d}(a.Designer.Disposable);b.ReportPreview=g,b.updatePreviewContentSize=c,b.updatePreviewZoomWithAutoFit=d,b.createPreview=e,b.createAndInitPreviewModel=f}(c=b.Preview||(b.Preview={}))}(b=a.Report||(a.Report={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){var b;!function(b){var c;!function(b){b.ActionId={Design:"dxxrp-design",FirstPage:"dxxrp-first-page",PrevPage:"dxxrp-prev-page",Pagination:"dxxrp-pagination",NextPage:"dxxrp-next-page",LastPage:"dxxrp-last-page",MultipageToggle:"dxxrp-multipage-toggle",ZoomOut:"dxxrp-zoom-out",ZoomSelector:"dxxrp-zoom-selector",ZoomIn:"dxxrp-zoom-in",Print:"dxxrp-print",PrintPage:"dxxrp-print-page",ExportTo:"dxxrp-export-menu",Search:"dxxrp-search"};var c=function(){function c(c){this.actions=[],this.actions.push({id:b.ActionId.Design,text:a.Designer.getLocalization("Design"),imageClassName:"dxrd-image-design",disabled:ko.observable(!1),visible:c.canSwitchToDesigner,hotKey:{ctrlKey:!0,keyCode:"P".charCodeAt(0)},clickAction:function(){c.previewVisible(!1),c.deactivate()}})}return c.prototype.getActions=function(){return this.actions},c}();b.PreviewDesignerActions=c;var d=function(){function c(c){this.actions=[];var d=ko.observable(.01),e=ko.pureComputed(function(){var a=c.progressBar.inProgress(),b=c.documentBuilding();return-1===c.pageIndex()||a||b});this.actions.push({id:b.ActionId.FirstPage,text:a.Designer.getLocalization("First Page"),imageClassName:"dxrd-image-preview-first",disabled:ko.pureComputed(function(){return c.pageIndex()<1}),visible:ko.pureComputed(function(){return c.previewVisible()}),hotKey:{ctrlKey:!0,keyCode:"1".charCodeAt(0)},clickAction:function(){c.pageIndex()>0&&c.goToPage(0)}}),this.actions.push({id:b.ActionId.PrevPage,text:a.Designer.getLocalization("Previous Page"),imageClassName:"dxrd-image-preview-prev",disabled:ko.pureComputed(function(){return c.pageIndex()<1}),visible:ko.pureComputed(function(){return c.previewVisible()}),hotKey:{ctrlKey:!0,keyCode:",".charCodeAt(0)},clickAction:function(){
c.pageIndex()>=1&&c.goToPage(c.pageIndex()-1)}});var f={id:b.ActionId.Pagination,text:"Pagination",imageClassName:"dxrd-image-pager",disabled:ko.observable(!1),visible:ko.pureComputed(function(){return c.previewVisible()}),clickAction:$.noop,selectedItem:ko.pureComputed({read:function(){if(c.pageIndex()<0)return null;var a=f.pageItems();return a&&a.store&&a.store.length>c.pageIndex()&&a.store[c.pageIndex()]},write:function(a){a&&(a.index||0===a.index)&&c.goToPage(a.index)},deferEvaluation:!0}),pageItems:ko.pureComputed(function(){var a=c.pages().length;if(0===a||-1===c.pageIndex.peek())return[];for(var b=new Array,d=0;a>d;)b.push({index:d,text:++d});return{store:b,paginate:a>200,pageSize:100}}),currentPage:c._currentPageText,focusOut:function(a){f._isPageChanged(a.component.option("text"))||c._currentPageText.notifySubscribers(c._currentPageText())},keyUp:function(a){13===a.jQueryEvent.which&&f._isPageChanged(a.component.option("text"))&&f.opened(!1)},_isPageChanged:function(a){var b=parseInt&&parseInt(a);return b&&b-->0&&b<c.pages().length?(c.goToPage(b),!0):!1},displayExpr:function(a){var b=c.pageIndex.peek();return-1!==b&&a&&b!==a.index?a.text:c._currentPageText.peek()},itemTemplate:function(a){return a.text},searchMode:"startswith",searchEnabled:ko.observable(!0),searchTimeout:10,opened:ko.observable(!1),templateName:"dxrd-preview-pager"};this.actions.push(f),this.actions.push({id:b.ActionId.NextPage,text:a.Designer.getLocalization("Next Page"),imageClassName:"dxrd-image-preview-next",disabled:ko.pureComputed(function(){return c.pageIndex()<0||c.pageIndex()>=c.pages().length-1}),visible:ko.pureComputed(function(){return c.previewVisible()}),hotKey:{ctrlKey:!0,keyCode:".".charCodeAt(0)},clickAction:function(){c.pageIndex()<c.pages().length-1&&c.goToPage(c.pageIndex()+1)}}),this.actions.push({id:b.ActionId.LastPage,text:a.Designer.getLocalization("Last Page"),imageClassName:"dxrd-image-preview-last",disabled:ko.pureComputed(function(){return c.pageIndex()<0||c.pageIndex()>=c.pages().length-1}),visible:ko.pureComputed(function(){return c.previewVisible()}),hotKey:{ctrlKey:!0,keyCode:"L".charCodeAt(0)},clickAction:function(){c.pageIndex()<c.pages().length-1&&c.goToPage(c.pages().length-1)}}),this.actions.push({id:b.ActionId.MultipageToggle,text:a.Designer.getLocalization("Toggle Multipage Mode"),imageClassName:ko.pureComputed(function(){return c.showMultipagePreview()?"dxrd-image-preview-single-page":"dxrd-image-preview-multipage"}),disabled:ko.observable(!1),visible:ko.pureComputed(function(){return c.previewVisible()}),hotKey:{ctrlKey:!0,keyCode:"M".charCodeAt(0)},clickAction:function(){var a=c._zoom();c.showMultipagePreview(!c.showMultipagePreview()),c.zoom(a)},hasSeparator:!0}),this.actions.push({id:b.ActionId.ZoomOut,text:a.Designer.getLocalization("Zoom Out"),imageClassName:"dxrd-image-zoomout",disabled:ko.observable(!1),visible:!0,zoomStep:d,clickAction:function(){var a=c.zoom()||c._zoom();c.zoom(Math.max(a-d(),.01))},hasSeparator:!0}),this.actions.push({id:b.ActionId.ZoomSelector,text:a.Designer.getLocalization("Zoom 100%"),imageClassName:"dxrd-image-zoom",disabled:ko.observable(!1),visible:!0,clickAction:function(){c.zoom(1)},templateName:"dxrd-zoom-autofit-select-template",zoom:c.zoom,zoomLevels:c.predefinedZoomLevels,zoomItems:ko.pureComputed(function(){var a=c.predefinedZoomLevels.slice(0);return c.showMultipagePreview()===!1&&-1===a.indexOf(0)&&a.push(0),a})}),this.actions.push({id:b.ActionId.ZoomIn,text:a.Designer.getLocalization("Zoom In"),imageClassName:"dxrd-image-zoomin",disabled:ko.observable(!1),visible:!0,zoomStep:d,clickAction:function(){var a=c.zoom()||c._zoom();c.zoom(Math.min(a+d(),10))}}),this.actions.push({id:b.ActionId.Print,text:a.Designer.getLocalization("Print"),imageClassName:"dxrd-image-print",hasSeparator:!0,disabled:e,visible:!0,clickAction:function(){e()||c.printDocument()}}),this.actions.push({id:b.ActionId.PrintPage,text:a.Designer.getLocalization("Print Page"),imageClassName:"dxrd-image-print-page",disabled:e,visible:!0,clickAction:function(){e()||c.printDocument(c.pageIndex())}})}return c.prototype.getActions=function(){return this.actions},c}();b.PreviewActions=d}(c=b.Preview||(b.Preview={}))}(b=a.Report||(a.Report={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){var b;!function(a){var b;!function(a){ko.bindingHandlers.toView={init:function(a,b){var c=$(a),d=c.parent(".dxrd-report-preview-holder"),e=b().active,f=e.subscribe(function(a){if(a){var b=c.position().top;(0>b&&b+c.height()<0||b>d.height())&&d.scrollTop(d.scrollTop()+b)}});ko.utils.domNodeDisposal.addDisposeCallback(a,function(){f.dispose()})}},ko.bindingHandlers.lazyImages={init:function(a,b){var c=$(a),d=b().enabled,e=function(){if(d())for(var b=c.height()+100,e=0;e<a.children.length;e++){var f=a.children[e],g=f.getBoundingClientRect(),h=g.top;if(b>h&&h>=0||0>h&&h+g.height>-100){var i=ko.dataFor(f);i&&i.isClientVisible&&i.isClientVisible(!0)}}};ko.isObservable(b().updateCallback)&&b().updateCallback(e);var f,g=function(){f&&clearTimeout(f),f=setTimeout(function(){e(),f=void 0},700)},h=d.subscribe(function(a){a&&e()});c.on("scroll",g),setTimeout(e,500),ko.utils.domNodeDisposal.addDisposeCallback(a,function(){c.off("scroll",g),h.dispose()})}},ko.bindingHandlers["brick-selection"]={update:function(a,b){var c=b(),d=ko.unwrap(c),e=$(a);if(!e.selectable("instance")){var f="touchstart",g=function(){e.selectable("destroy"),a.removeEventListener(f,g)},h=d.selectBrick,i=function(a,b){if(a){var c=ko.dataFor(a);c&&c.active&&c.active(b||!c.active())}},j=function(a){if(a){var b=ko.dataFor(a);b&&b.active&&b.active(!1)}},k=$.extend({filter:".dxrd-report-preview-brick-selectable",distance:5},d,{selecting:function(a,b){i(b.selecting,a.ctrlKey)},start:function(a){window.focus();var b=$("input:focus,textarea:focus");b[0]&&b.blur(),h&&h("",a.ctrlKey)},unselecting:function(a,b){j(b.unselecting)}});e.selectable(k),a.addEventListener(f,g,!1)}}},ko.bindingHandlers.textCopier={init:function(a,b,c,d){var e=function(a){var b=d.getSelectedContent();if(!(!b||!a.ctrlKey&&!a.metaKey||$(a.target).is("input:visible,textarea:visible")||window.getSelection&&window.getSelection()&&window.getSelection().toString()||document.selection&&document.selection.createRange().text)){var c=$("#clipboard-container");c.empty().show(),$("<textarea id='clipboard'></textarea>").val(b).appendTo(c).focus().select()}},f=function(a){$(a.target).is("#clipboard")&&$("#clipboard-container").empty().hide()};$(document).on("keydown",e),$(document).on("keyup",f),ko.utils.domNodeDisposal.addDisposeCallback(a,function(){$(document).off("keydown",e),$(document).off("keyup",f)})}},ko.bindingHandlers.autoFit={init:function(b,c){var d=c(),e=[],f=function(c){if(c.isAutoFit()===!0&&!c.brickLoading()){var d=Math.round(100*a.updatePreviewZoomWithAutoFit(c.width(),c.height(),b)-1)/100;c.zoom(Math.max(d,.02))}};f(d);var g=function(){f(d)};$(window).bind("resize",g),e.push(d.rightPanelWidth.subscribe(function(){f(d)})),e.push(d.width.subscribe(function(){f(d)})),e.push(d.height.subscribe(function(){f(d)})),e.push(d.isAutoFit.subscribe(function(){f(d)})),e.push(d.brickLoading.subscribe(function(){f(d)})),e.push(d.previewSize.subscribe(function(){f(d)})),ko.utils.domNodeDisposal.addDisposeCallback(b,function(){$(window).unbind("resize",g),e.forEach(function(a){a.dispose()})})}},ko.bindingHandlers.dxReportViewer={init:function(a,b){$(a).children().remove();var c=$("#dxrd-designer").text(),d=$(a).append(c),e=ko.unwrap(b());return ko.applyBindings(e,d.children()[0]),{controlsDescendantBindings:!0}}}}(b=a.Preview||(a.Preview={}))}(b=a.Report||(a.Report={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){var b;!function(b){var c;!function(b){var c=function(){function c(a){this._preview=a}return c.prototype.doneStartExportHandler=function(b,c,d){var e=this;try{if(!d)return void this._preview.progressBar.complete();this._preview._currentOperationId(d);var f=function(b){var d=e._preview.getExportStatus(b);d.done(function(d){if(d&&d.requestAgain)e._preview.progressBar&&e._preview.progressBar.progress(d.progress),f(b);else if(e._preview.progressBar.complete(),!d.requestAgain&&d.completed&&e._preview.getExportResult(b,c),d.error)return void e._preview._processError(a.Designer.getLocalization("Error on retrieving an exporting status: ")+d.error)})};f(this._preview._currentOperationId())}finally{b.resolve(!0),this._preview._startBuildOperationId=""}},c.prototype.errorStartExportHandler=function(b,c){this._preview.progressBar.complete(),c&&this._preview._processError(a.Designer.getLocalization("An error occurred during the export"),c)},c.prototype.doneExportStatusHandler=function(a,b,c){try{if(!c)return a.resolve({requestAgain:!1}),void this._preview.progressBar.complete();if(c.faultMessage)return a.resolve({requestAgain:!1,error:c.faultMessage}),this._preview._processError(c.faultMessage,null),void this._preview.progressBar.complete();this._preview.progressBar&&this._preview.progressBar.progress()<c.progress&&this._preview.progressBar.progress(c.progress),a.resolve(c)}finally{a.state&&"pending"!==a.state()||a.resolve({requestAgain:!1})}},c.prototype.errorExportStatusHandler=function(b,c){this._preview.progressBar.complete(),b.resolve({requestAgain:!1,created:!1}),this._preview._processError(a.Designer.getLocalization("Error obtaining an export status"),c)},c.prototype.doneStartBuildHandler=function(a,b){var c=this;try{var d=function(a){a&&c._preview.pages.removeAll(),c._preview.removeEmptyPages()};if(!b||!b.documentId)return this._preview.progressBar.complete(),void d();var e=this._preview._stopBuildRequests[this._preview._startBuildOperationId],f=this._preview._closeDocumentRequests[this._preview._startBuildOperationId];if(this._preview._startBuildOperationId&&(e||f))return f?f&&this._preview.closeDocument(b.documentId):e&&this._preview.stopBuild(b.documentId),this._preview.progressBar.complete(),void d();this._preview._currentDocumentId(b.documentId);var g=this._preview.getDoGetBuildStatusFunc();g(this._preview._currentDocumentId())}finally{a.resolve(!0),this._preview._startBuildOperationId=""}},c.prototype.errorStartBuildHandler=function(b,c){this._preview.pageLoading(!1),this._preview.progressBar.complete(),b.resolve(!0),this._preview._startBuildOperationId="",this._preview.removeEmptyPages(),this._preview._processError(a.Designer.getLocalization("Cannot create a document for the current report"),c,this._preview._closeDocumentRequests[this._preview._startBuildOperationId])},c.prototype.errorGetBuildStatusHandler=function(b,c){b.resolve({requestAgain:!1,created:!1}),this._preview._processError(a.Designer.getLocalization("Error obtaining a build status"),c,this._preview._closeDocumentRequests[this._preview._currentDocumentId()])},c.prototype.doneGetBuildStatusHandler=function(a,c,d){var e=this;try{if(!d)return void a.resolve({requestAgain:!1});if(d.faultMessage)return a.resolve({requestAgain:!1,pageCount:-1,error:d.faultMessage}),void this._preview._processError(d.faultMessage,null,this._preview._closeDocumentRequests[c]);this._preview.progressBar.progress()<d.progress&&!this._preview._stopBuildRequests[c]&&!this._preview._closeDocumentRequests[c]&&this._preview.progressBar.progress(d.progress);var f=-1===this._preview.pageIndex()&&d.pageCount>0;f&&this._preview.pageIndex(0);for(var g=this._preview.getPreviewPageBrickProvider(b.HandlerUri,c),h=0;h<d.pageCount&&!this._preview._stopBuildRequests[c]&&!this._preview._closeDocumentRequests[c];h++){var i=function(a){return new b.PreviewPage(a,e._preview._pageWidth,e._preview._pageHeight,e._preview._zoom,e._preview._currentDocumentId,g,null,e._preview.createBrickClickProcessor(a))};if(h<this._preview.pages().length){var j=this._preview.pages()[h];(!j||j.isEmpty)&&(j=i(h),this._preview.pages.splice(h,1,j)),-1===j.pageIndex&&(j.pageIndex=h,j.brickProvider=g)}else{var k=i(h);this._preview.pages.push(k)}}if(this._preview._raiseOnSizeChanged(),f){var l=this._preview.pages().length?0:-1;this._preview.goToPage(l,!0)}a.resolve(d)}finally{"pending"===a.state()&&a.resolve({requestAgain:!1})}},c}();b.PreviewHandlersHelper=c}(c=b.Preview||(b.Preview={}))}(b=a.Report||(a.Report={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){var b;!function(b){var c;!function(b){var c=function(){function b(){var b=this;this.progress=ko.observable(0),this._forceInvisible=ko.observable(!1),this.inProgress=ko.observable(!1),this.cancelText=ko.observable(a.Designer.getLocalization("Cancel")),this.text=ko.observable(""),this.visible=ko.pureComputed({read:function(){return b._forceInvisible()?!1:b.inProgress()},write:function(a){b._forceInvisible(!a)}}),this.complete=function(){b.inProgress(!1),b.progress(0),$.isFunction(b._onComplete)&&b._onComplete(),b._onComplete=null},this.startProgress=function(a,c){b.inProgress(!0),b.progress(0),b._onComplete=a,b.stop=function(){try{$.isFunction(c)&&c()}finally{b.complete()}}}}return b}();b.ProgressViewModel=c}(c=b.Preview||(b.Preview={}))}(b=a.Report||(a.Report={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){var b;!function(b){var c;!function(b){var c=function(){function c(a){for(var b in a||{})this[b]=a[b]}return c.prototype.initialize=function(a,b,c){this._reportPreview=a,this._parametersModel=b,this._searchModel=c},c.prototype.findTextRequest=function(c){return a.Designer.ajax(b.HandlerUri,"findText",encodeURIComponent(JSON.stringify({text:c,documentId:this._reportPreview.documentId,matchCase:this._searchModel.matchCase(),wholeWord:this._searchModel.matchWholeWord(),searchUp:this._searchModel.searchUp()})))},c.prototype.stopBuild=function(c){a.Designer.ajax(b.HandlerUri,"stopBuild",encodeURIComponent(c))},c.prototype.sendCloseRequest=function(c,d){a.Designer.ajax(b.HandlerUri,"close",encodeURIComponent(JSON.stringify({reportId:d,documentId:c})))},c.prototype.startBuildRequest=function(){return a.Designer.ajax(b.HandlerUri,"startBuild",encodeURIComponent(JSON.stringify({reportId:this._reportPreview.reportId,drillDownKeys:this._reportPreview._drillDownState,timeZoneOffset:0-(new Date).getTimezoneOffset(),parameters:this._parametersModel.serializeParameters()})))},c.prototype.getBuildStatusRequest=function(c){return a.Designer.ajax(b.HandlerUri,"getBuildStatus",encodeURIComponent(JSON.stringify({documentId:c,timeOut:Math.max(5e3,a.Report.Preview.TimeOut)})))},c.prototype.getDocumentData=function(c){return a.Designer.ajax(b.HandlerUri,"getDocumentData",encodeURIComponent(c))},c.prototype.openReport=function(c){return a.Designer.ajax(b.HandlerUri,"openReport",encodeURIComponent(c))},c.prototype.getStartExportOperation=function(c){return a.Designer.ajax(b.HandlerUri,"startExport",c)},c.prototype.getExportStatusRequest=function(c){return a.Designer.ajax(b.HandlerUri,"getExportStatus",encodeURIComponent(JSON.stringify({id:c,timeOut:Math.max(5e3,a.Report.Preview.TimeOut)})))},c}();b.PreviewRequestWrapper=c}(c=b.Preview||(b.Preview={}))}(b=a.Report||(a.Report={}))}(DevExpress||(DevExpress={}));